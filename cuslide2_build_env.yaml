name: cuslide2-build
channels:
  - conda-forge
  - rapidsai
  - rapidsai-nightly
dependencies:
  # Build tools
  - cmake>=3.30.4
  - ninja
  - c-compiler
  - cxx-compiler
  - gcc_linux-64=14.*
  - sysroot_linux-64==2.28
  
  # CUDA
  - cuda-version=12.9
  - cuda-nvcc
  - cuda-cudart-dev
  - libnvjpeg-dev
  
  # nvImageCodec - critical for cuslide2
  - libnvimgcodec-dev=0.6.0
  - libnvimgcodec0=0.6.0
  
  # Python (for build scripts and testing)
  - python>=3.10,<3.14
  
  # Python dependencies for testing
  - numpy>=1.23.4,<3.0a0
  - cupy>=13.6.0
  - scipy>=1.11.2
  - scikit-image>=0.19.0,<0.26.0a0
  - tifffile>=2022.8.12
  - click
  - lazy-loader>=0.4
  
  # Testing and development tools
  - pytest>=7.0.0,<9.0.0a0
  - pytest-cov>=2.12.1
  - pytest-lazy-fixtures>=1.0.0
  - pytest-xdist
  - psutil>=5.8.0
  - pre-commit
  
  # Additional tools
  - pip
  - git
  
  # Optional - for comparison testing with openslide
  - openslide-python>=1.3.0
  - imagecodecs>=2021.6.8
  
  # Pip packages
  - pip:
    - opencv-python-headless>=4.6

